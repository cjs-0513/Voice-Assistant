<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™êµ ìŒì„± ë¹„ì„œ (Voice Assistant)</title>
    <!-- Talwind CSS CDNì„ ë¡œë“œí•˜ì—¬ ê¹”ë”í•˜ê³  ë°˜ì‘í˜• ë””ìì¸ ì ìš© -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ë§ˆì´í¬ ë²„íŠ¼ì˜ í™œì„±í™” ì‹œ ë¶‰ì€ìƒ‰ íŒŒë™(Pulse) ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ì‚¬ìš©ì ì •ì˜ ìŠ¤íƒ€ì¼ */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
i
        .listening {
            /* 'ë“£ëŠ” ì¤‘' ìƒíƒœì¼ ë•Œ ë¶‰ì€ìƒ‰ íŒŒë™ ì• ë‹ˆë©”ì´ì…˜ ì ìš© */
            animation: pulse 1.5s infinite;
        }

        .mic-icon {
            /* ë§ˆì´í¬ SVG ì•„ì´ì½˜ì„ ë²„íŠ¼ ì¤‘ì•™ì— ë°°ì¹˜í•˜ê¸° ìœ„í•œ Flexbox ìŠ¤íƒ€ì¼ */
            display: inline-block;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen p-4 font-sans">

    <div class="w-full max-w-xl bg-white shadow-2xl rounded-3xl p-6 md:p-10">
        <!-- í—¤ë” ì˜ì—­ -->
        <header class="text-center mb-8">
            <h1 class="text-4xl font-extrabold text-blue-700 mb-2">ğŸ« Voice Assistant</h1>
            <p class="text-gray-600 text-lg">ìŒì„±ìœ¼ë¡œ ì‹œì„¤ì„ ì°¾ê³ , ìµëª…ìœ¼ë¡œ ë¯¼ì›ì„ ì ‘ìˆ˜í•˜ì„¸ìš”.</p>
        </header>

        <!-- ë©”ì¸ ì–´ì‹œìŠ¤í„´íŠ¸ ì˜ì—­ -->
        <main class="flex flex-col items-center space-y-8">
            
            <!-- ìƒíƒœ í‘œì‹œ (ëŒ€ê¸°, ë“£ëŠ” ì¤‘) -->
            <div id="status-display" class="text-xl font-semibold text-gray-800 h-8 flex items-center justify-center">
                ë§ì”€í•´ì£¼ì„¸ìš”...
            </div>

            <!-- ë§ˆì´í¬ ë²„íŠ¼ (ìŒì„± ì¸ì‹ ì‹œì‘/ì¢…ë£Œ íŠ¸ë¦¬ê±°) -->
            <button id="mic-button" class="w-28 h-28 bg-blue-600 hover:bg-blue-700 transition-all duration-300 rounded-full text-white focus:outline-none focus:ring-4 focus:ring-blue-300 transform scale-100 active:scale-95 shadow-xl">
                <div class="mic-icon">
                    <!-- ë§ˆì´í¬ ì•„ì´ì½˜ (SVG) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mic">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" y1="19" x2="12" y2="23"></line>
                        <line x1="8" y1="23" x2="16" y2="23"></line>
                    </svg>
                </div>
            </button>

            <!-- ì‚¬ìš©ì ì…ë ¥ í‘œì‹œ (ì‹œìŠ¤í…œì´ ì¸ì‹í•œ í…ìŠ¤íŠ¸ë¥¼ ì‹œë®¬ë ˆì´ì…˜) -->
            <div id="user-input-display" class="w-full min-h-[50px] bg-gray-50 p-3 rounded-lg text-sm text-gray-500 italic border border-gray-200">
                <!-- ì‚¬ìš©ìì˜ ìŒì„± ì…ë ¥ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤. -->
            </div>

            <!-- ì–´ì‹œìŠ¤í„´íŠ¸ ì‘ë‹µ ì˜ì—­ -->
            <div id="assistant-response" class="w-full p-4 bg-indigo-50 border-l-4 border-indigo-500 rounded-lg text-gray-700 text-base shadow-inner min-h-[80px]">
                í™˜ì˜í•©ë‹ˆë‹¤! ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”? ë§ˆì´í¬ë¥¼ ëˆŒëŸ¬ ë§ì”€í•´ë³´ì„¸ìš”.
            </div>

            <!-- ê¸°ëŠ¥ ë°”ë¡œê°€ê¸° ë²„íŠ¼ -->
            <div class="flex flex-col sm:flex-row w-full justify-center space-y-4 sm:space-y-0 sm:space-x-4 pt-4">
                <button id="facility-shortcut" class="flex-1 py-3 px-6 bg-green-500 hover:bg-green-600 text-white font-bold rounded-xl shadow-lg transition duration-150">
                    ğŸ« ì‹œì„¤ ì°¾ê¸°
                </button>
                <button id="complaint-shortcut" class="flex-1 py-3 px-6 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded-xl shadow-lg transition duration-150">
                    ğŸ¤« ìµëª… ë¯¼ì› ì ‘ìˆ˜
                </button>
            </div>
        </main>
    </div>

    <!-- JavaScript (ëª¨ì˜ ìŒì„± ë¹„ì„œ ë¡œì§) -->
    <script>
        const micButton = document.getElementById('mic-button');
        const statusDisplay = document.getElementById('status-display');
        const userInputDisplay = document.getElementById('user-input-display');
        const assistantResponse = document.getElementById('assistant-response');
        const facilityShortcut = document.getElementById('facility-shortcut');
        const complaintShortcut = document.getElementById('complaint-shortcut');

        let isListening = false;

        // ìŒì„± ì¸ì‹ ê³¼ì •ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” í•¨ìˆ˜
        function startListening() {
            if (isListening) return;

            isListening = true;
            // 'ë“£ëŠ” ì¤‘' ìƒíƒœì¼ ë•Œ ìŠ¤íƒ€ì¼ ë³€ê²½ (ë¶‰ì€ìƒ‰ & í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜)
            micButton.classList.add('bg-red-500', 'listening'); 
            micButton.classList.remove('bg-blue-600');
            statusDisplay.textContent = 'ë“£ëŠ” ì¤‘... ë§ì”€í•´ë³´ì„¸ìš”.';
            userInputDisplay.textContent = '...';
            assistantResponse.innerHTML = '<span class="animate-pulse">ì‹œìŠ¤í…œì´ ìŒì„±ì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</span>';

            // ìŒì„± ì…ë ¥ ë° ì²˜ë¦¬ ì§€ì—° ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜ (3ì´ˆ)
            setTimeout(processCommand, 3000);
        }

        // ì‹œë®¬ë ˆì´ì…˜ëœ ëª…ë ¹ì–´ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
        function processCommand(source = 'voice') {
            stopListening();

            let simulatedInput;
            if (source === 'facility') {
                simulatedInput = 'ë„ì„œê´€ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì¤˜'; // ì‹œì„¤ ì°¾ê¸° ì‹œë®¬ë ˆì´ì…˜ ì…ë ¥
            } else if (source === 'complaint') {
                simulatedInput = '301í˜¸ ì—ì–´ì»¨ì´ ê³ ì¥ ë‚¬ì–´ìš”'; // ë¯¼ì› ì ‘ìˆ˜ ì‹œë®¬ë ˆì´ì…˜ ì…ë ¥
            } else {
                // ë§ˆì´í¬ ë²„íŠ¼ í´ë¦­ ì‹œ ë¬´ì‘ìœ„ ìŒì„± ì…ë ¥ ì‹œë®¬ë ˆì´ì…˜
                const commands = ['ì²´ìœ¡ê´€ ìš´ì˜ ì‹œê°„ì„ ì•Œë ¤ì¤˜', '301í˜¸ ì—ì–´ì»¨ì´ ê³ ì¥ ë‚¬ì–´ìš”', 'í•™ìƒ ì‹ë‹¹ ë©”ë‰´ëŠ” ë­ì•¼', 'ìµëª… ë¯¼ì› ì ‘ìˆ˜í•˜ê³  ì‹¶ì–´'];
                simulatedInput = commands[Math.floor(Math.random() * commands.length)];
            }
            
            userInputDisplay.textContent = `ì‚¬ìš©ì ì…ë ¥ (Mock): "${simulatedInput}"`;

            let responseText = '';

            // ì˜ë„ ë¶„ì„ ë¡œì§ (ëª¨ì˜)
            if (simulatedInput.includes('ì‹œì„¤') || simulatedInput.includes('ìœ„ì¹˜') || simulatedInput.includes('ì‹œê°„') || simulatedInput.includes('ë„ì„œê´€') || simulatedInput.includes('ì²´ìœ¡ê´€')) {
                // 1. ì‹œì„¤ ì°¾ê¸° ê¸°ëŠ¥ ì‘ë‹µ
                responseText = 'ğŸ« **[ì‹œì„¤ ì°¾ê¸°]** ëª…ë ¹ì„ ì¸ì‹í–ˆìŠµë‹ˆë‹¤. ìš”ì²­í•˜ì‹  ì‹œì„¤ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br><br>ì˜ˆì‹œ ë‹µë³€: **ë„ì„œê´€**ì€ ë³¸ê´€ 2ì¸µì— ìœ„ì¹˜í•˜ë©°, ìš´ì˜ ì‹œê°„ì€ ì˜¤ì „ 9ì‹œë¶€í„° ì˜¤í›„ 8ì‹œê¹Œì§€ì…ë‹ˆë‹¤. ìƒì„¸ ì •ë³´ê°€ í™”ë©´ì— í‘œì‹œë©ë‹ˆë‹¤.';
            } else if (simulatedInput.includes('ë¯¼ì›') || simulatedInput.includes('ê³ ì¥') || simulatedInput.includes('ë¶ˆí¸') || simulatedInput.includes('ì ‘ìˆ˜')) {
                // 2. ìµëª… ë¯¼ì› ì ‘ìˆ˜ ê¸°ëŠ¥ ì‘ë‹µ
                responseText = 'ğŸ¤« **[ìµëª… ë¯¼ì› ì ‘ìˆ˜]** ëª…ë ¹ì„ ì¸ì‹í–ˆìŠµë‹ˆë‹¤. ë§ì”€í•˜ì‹  ë¯¼ì› ë‚´ìš©("301í˜¸ ì—ì–´ì»¨ì´ ê³ ì¥ ë‚¬ì–´ìš”")ì´ ìµëª…ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ë¦¬ í›„ ë‹´ë‹¹ ë¶€ì„œì—ì„œ ì—°ë½ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤.';
            } else {
                // ê¸°íƒ€ ì‘ë‹µ
                responseText = 'ì£„ì†¡í•©ë‹ˆë‹¤. ìš”ì²­ì„ ì´í•´í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. "ì‹œì„¤ ì°¾ê¸°" ë˜ëŠ” "ë¯¼ì› ì ‘ìˆ˜"ë¼ê³  ë‹¤ì‹œ ë§ì”€í•´ ì£¼ì‹œê±°ë‚˜ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.';
            }

            assistantResponse.innerHTML = responseText;
        }

        // ë§ˆì´í¬ ìƒíƒœë¥¼ ì´ˆê¸°í™”í•˜ê³  ëŒ€ê¸° ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í•¨ìˆ˜
        function stopListening() {
            isListening = false;
            micButton.classList.remove('bg-red-500', 'listening');
            micButton.classList.add('bg-blue-600');
            statusDisplay.textContent = 'ë§ì”€í•´ì£¼ì„¸ìš”...';
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        micButton.addEventListener('click', startListening);

        facilityShortcut.addEventListener('click', () => {
            assistantResponse.innerHTML = '<span class="text-green-600 font-bold">ì‹œì„¤ ì°¾ê¸° ë°”ë¡œê°€ê¸° ì‹¤í–‰:</span> ì–´ë–¤ ì‹œì„¤ì„ ì°¾ìœ¼ì„¸ìš”? ë§ˆì´í¬ë¥¼ ëˆ„ë¥´ê³  ë§ì”€í•´ ì£¼ì„¸ìš”.';
            userInputDisplay.textContent = '';
            // ë°”ë¡œê°€ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ì‹œì„¤ ì°¾ê¸° ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
            setTimeout(() => processCommand('facility'), 1000);
        });

        complaintShortcut.addEventListener('click', () => {
            assistantResponse.innerHTML = '<span class="text-orange-600 font-bold">ë¯¼ì› ì ‘ìˆ˜ ë°”ë¡œê°€ê¸° ì‹¤í–‰:</span> ë‚´ìš©ì„ ë§ì”€í•´ ì£¼ì‹œë©´ ìµëª…ìœ¼ë¡œ ì ‘ìˆ˜ë©ë‹ˆë‹¤.';
            userInputDisplay.textContent = '';
            // ë°”ë¡œê°€ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ë¯¼ì› ì ‘ìˆ˜ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
            setTimeout(() => processCommand('complaint'), 1000);
        });

        // ì´ˆê¸° ìƒíƒœ ì„¤ì •
        stopListening();

    </script>
</body>
</html>